{"ast":null,"code":"var _jsxFileName = \"D:\\\\Programing\\\\ExternalProject\\\\ProfileCustomerReact\\\\src\\\\Components\\\\CalculationCustomers.jsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { MDBIcon, MDBTable, MDBTableHead, MDBTableBody, MDBBtn } from 'mdb-react-ui-kit';\nimport { Link } from \"react-router-dom\";\nimport { getAllCustomersByCompany } from '../Redux/Customers/CustomersThunk';\nimport { calculationProfile } from '../Redux/ProfileCalculations/ProfileCalculationsThunk';\nimport { MDBInput, MDBCard, MDBCardBody } from 'mdbreact';\nimport { BrowserRouter, withRouter } from \"react-router-dom\";\nimport { useHistory } from 'react-router';\nimport './myStyle.css';\nimport { NavLink } from 'react-router-dom';\nimport { MDBSpinner } from 'mdb-react-ui-kit';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function CalculationCustomers(Props) {\n  _s();\n\n  const [show, setShow] = useState(false);\n  let Company = useSelector(store => {\n    return store.Companies.company;\n  });\n  let CodeCalculation = useSelector(store => {\n    return store.ProfileCalculations.profileCalculation;\n  });\n  console.log(CodeCalculation);\n  const dispatch = useDispatch();\n  const [customers, setCustomers] = useState(useSelector(state => {\n    return state.customers;\n  }));\n  const [profileCalculation, setProfileCalculation] = useState(!Props.profileCalculation ? {} : Props.profileCalculation);\n  const [theClassificaion, settheClassificaion] = useState(useSelector(state => {\n    return state.theClassificaion;\n  }));\n  const [G, setG] = useState();\n  useEffect(async () => {\n    var date = new Date();\n    var dateNow = \"\" + date.getDate() + \"/\" + (date.getMonth() + 1) + \"/\" + date.getFullYear();\n    setG(dateNow);\n    let C = await getAllCustomersByCompany(dispatch, Company.codeCompany);\n\n    if (C) {\n      setCustomers(C);\n    }\n  }, []);\n\n  const sendToClassification = async () => {\n    debugger;\n    var date = new Date();\n    var dateNow = \"\" + date.getDate() + \"/\" + (date.getMonth() + 1) + \"/\" + date.getFullYear();\n    let DateStart = document.getElementById(\"DateStart\").value;\n    let DateFinish = document.getElementById(\"DateFinish\").value;\n    var d1 = new Date(DateStart);\n    var d2 = new Date(DateFinish);\n    if (d2.getFullYear() < d1.getFullYear() || d2.getFullYear() > date.getFullYear() || d1.getFullYear() > date.getFullYear()) alert(\"בדוק ששדה השנה תקין\");else {\n      // if(Company){\n      //   setShow(true);\n      // const TheClassificaion = await calculationProfile(dispatch,Company.codeCompany,dateNow,DateStart,DateFinish);\n      // if(TheClassificaion){\n      //   setShow(false);\n      //  settheClassificaion(TheClassificaion)\n      // return TheClassificaion\n      // }}\n      // else{\n      //   alert(\"אנא הרשם או התחבר תחילה\")\n      // }\n      if (d2.getFullYear() === d1.getFullYear()) {\n        if (d2.getMonth() < d1.getMonth() || d2.getMonth() > date.getMonth() || d1.getMonth() > date.getMonth()) alert(\"בדוק ששדה החודש תקין  \");else {\n          // {if(Company){\n          //   setShow(true);\n          // const TheClassificaion = await calculationProfile(dispatch,Company.codeCompany,dateNow,DateStart,DateFinish);\n          // if(TheClassificaion){\n          //   setShow(false);\n          //  settheClassificaion(TheClassificaion)\n          // return TheClassificaion\n          // }}\n          // else{\n          //   alert(\"אנא הרשם או התחבר תחילה\")\n          // }\n          if (d2.getMonth() === d1.getMonth()) {\n            if (d2.getDate() < d1.getDate() || d2.getDate() > date.getDate() || d1.getDate() > date.getDate()) alert(\"  בדוק ששדה היום תקין\");else {\n              if (Company) {\n                setShow(true);\n                const TheClassificaion = await calculationProfile(dispatch, Company.codeCompany, dateNow, DateStart, DateFinish);\n\n                if (TheClassificaion) {\n                  setShow(false);\n                  settheClassificaion(TheClassificaion);\n                  return TheClassificaion;\n                }\n              } else {\n                alert(\"אנא הרשם או התחבר תחילה\");\n              }\n            }\n          } else {\n            if (Company) {\n              setShow(true);\n              debugger;\n              const TheClassificaion = await calculationProfile(dispatch, Company.codeCompany, dateNow, DateStart, DateFinish);\n\n              if (TheClassificaion) {\n                setShow(false);\n                settheClassificaion(TheClassificaion);\n                alert(\"אנא המתן לקוחותיך עוברים סיווג\");\n                return TheClassificaion;\n              }\n            } else {\n              alert(\"אנא הרשם או התחבר תחילה\");\n            }\n          }\n        }\n      } else {\n        if (Company) {\n          const TheClassificaion = await calculationProfile(dispatch, Company.codeCompany, dateNow, DateStart, DateFinish);\n\n          if (TheClassificaion) {\n            setShow(false);\n            settheClassificaion(TheClassificaion);\n            return TheClassificaion;\n          }\n        } else {\n          alert(\"אנא הרשם או התחבר תחילה\");\n        }\n      }\n    }\n  };\n\n  const up = e => {\n    setProfileCalculation(e.target.value);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: show === false ? /*#__PURE__*/_jsxDEV(BrowserRouter, {\n      className: \"table\",\n      children: [/*#__PURE__*/_jsxDEV(\"lable\", {\n        className: \"bDate\",\n        children: /*#__PURE__*/_jsxDEV(\"h5\", {\n          children: \"\\u05EA\\u05D0\\u05E8\\u05D9\\u05DA \\u05E1\\u05D9\\u05D5\\u05D5\\u05D2 \\u05E0\\u05D5\\u05DB\\u05D7\\u05D9  \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 30\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"pdate\",\n        children: G\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 5\n      }, this), theClassificaion === undefined ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bDate\",\n        children: [/*#__PURE__*/_jsxDEV(\"table\", {\n          children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"bDate\",\n                children: /*#__PURE__*/_jsxDEV(\"h5\", {\n                  children: \"\\u05D1\\u05D7\\u05E8 \\u05EA\\u05D0\\u05E8\\u05D9\\u05DA \\u05D4\\u05EA\\u05D7\\u05DC\\u05D4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 170,\n                  columnNumber: 34\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 5\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [\" \", /*#__PURE__*/_jsxDEV(\"lable\", {\n                className: \"bDate\",\n                children: /*#__PURE__*/_jsxDEV(\"h5\", {\n                  children: \"\\u05D1\\u05D7\\u05E8 \\u05EA\\u05D0\\u05E8\\u05D9\\u05DA \\u05E1\\u05D9\\u05D5\\u05DD\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 171,\n                  columnNumber: 36\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 171,\n                columnNumber: 10\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 5\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 3\n          }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: [\" \", /*#__PURE__*/_jsxDEV(MDBInput, {\n                type: \"date\",\n                id: \"DateStart\",\n                value: profileCalculation.fromDate,\n                onChange: e => {\n                  up(e);\n                },\n                style: {\n                  width: \"150px\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 174,\n                columnNumber: 10\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 5\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [\" \", /*#__PURE__*/_jsxDEV(MDBInput, {\n                type: \"date\",\n                id: \"DateFinish\",\n                value: profileCalculation.toDate,\n                onChange: e => {\n                  up(e);\n                },\n                style: {\n                  width: \"150px\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 175,\n                columnNumber: 10\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 5\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 3\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 1\n        }, this), /*#__PURE__*/_jsxDEV(MDBBtn, {\n          onClick: () => {\n            sendToClassification();\n          },\n          children: \"\\u05E1\\u05D5\\u05D5\\u05D2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 3\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 6\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"square justify-content-center\",\n        children: theClassificaion === undefined ? /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false) : /*#__PURE__*/_jsxDEV(MDBCard, {\n          style: {\n            opacity: \"0.8\"\n          },\n          children: /*#__PURE__*/_jsxDEV(MDBCardBody, {\n            children: /*#__PURE__*/_jsxDEV(MDBTable, {\n              striped: true,\n              children: [/*#__PURE__*/_jsxDEV(MDBTableHead, {\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    scope: \"col\",\n                    children: \"#\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 193,\n                    columnNumber: 13\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    scope: \"col\",\n                    children: \"\\u05E9\\u05DD:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 194,\n                    columnNumber: 13\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    scope: \"col\",\n                    children: \"\\u05D0\\u05D9\\u05DE\\u05D9\\u05D9\\u05DC:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 195,\n                    columnNumber: 13\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    scope: \"col\",\n                    children: \"\\u05E4\\u05E8\\u05D5\\u05E4\\u05D9\\u05DC \\u05D0\\u05D7\\u05E8\\u05D5\\u05DF:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 196,\n                    columnNumber: 13\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 192,\n                  columnNumber: 11\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 191,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(MDBTableBody, {\n                children: theClassificaion === undefined ? /*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: \"wait...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 200,\n                  columnNumber: 45\n                }, this) : theClassificaion.map((f, i) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    scope: \"row\",\n                    children: ++i\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 204,\n                    columnNumber: 17\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: f.nameCustomer\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 205,\n                    columnNumber: 17\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: f.emailCustomer\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 206,\n                    columnNumber: 17\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: f.statusCustomer\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 207,\n                    columnNumber: 17\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      class: \"d-grid gap-2 d-md-flex justify-content-md\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 210,\n                      columnNumber: 19\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 209,\n                    columnNumber: 17\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 203,\n                  columnNumber: 15\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 199,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 47\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 34\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 1\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 5\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \" \\u05DC\\u05E7\\u05D5\\u05D7\\u05D5\\u05EA\\u05D9\\u05DA \\u05E2\\u05D5\\u05D1\\u05E8\\u05D9\\u05DD \\u05E1\\u05D9\\u05D5\\u05D5\\u05D2 \\u05DB\\u05E2\\u05EA\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\u05D4\\u05D3\\u05D1\\u05E8 \\u05E2\\u05E9\\u05D5\\u05D9 \\u05DC\\u05D4\\u05DE\\u05E9\\u05DA \\u05DB\\u05DE\\u05D4 \\u05D3\\u05E7\\u05D5\\u05EA \\u05D0\\u05E0\\u05D0 \\u05D4\\u05DE\\u05EA\\u05DF...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: /*#__PURE__*/_jsxDEV(MDBSpinner, {\n          className: \"rol\",\n          role: \"status\",\n          size: \"350px\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 1\n      }, this)]\n    }, void 0, true)\n  }, void 0, false);\n}\n\n_s(CalculationCustomers, \"B3djpJ5MbLnRp6yvFaAzx/jtHR8=\", false, function () {\n  return [useSelector, useSelector, useDispatch, useSelector, useSelector];\n});\n\n_c = CalculationCustomers;\n\nvar _c;\n\n$RefreshReg$(_c, \"CalculationCustomers\");","map":{"version":3,"sources":["D:/Programing/ExternalProject/ProfileCustomerReact/src/Components/CalculationCustomers.jsx"],"names":["React","useEffect","useState","useDispatch","useSelector","MDBIcon","MDBTable","MDBTableHead","MDBTableBody","MDBBtn","Link","getAllCustomersByCompany","calculationProfile","MDBInput","MDBCard","MDBCardBody","BrowserRouter","withRouter","useHistory","NavLink","MDBSpinner","CalculationCustomers","Props","show","setShow","Company","store","Companies","company","CodeCalculation","ProfileCalculations","profileCalculation","console","log","dispatch","customers","setCustomers","state","setProfileCalculation","theClassificaion","settheClassificaion","G","setG","date","Date","dateNow","getDate","getMonth","getFullYear","C","codeCompany","sendToClassification","DateStart","document","getElementById","value","DateFinish","d1","d2","alert","TheClassificaion","up","e","target","undefined","fromDate","width","toDate","opacity","map","f","i","nameCustomer","emailCustomer","statusCustomer"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {MDBIcon, MDBTable, MDBTableHead, MDBTableBody, MDBBtn } from 'mdb-react-ui-kit';\r\nimport { Link } from \"react-router-dom\";\r\nimport {getAllCustomersByCompany} from '../Redux/Customers/CustomersThunk'\r\nimport {calculationProfile} from '../Redux/ProfileCalculations/ProfileCalculationsThunk'\r\nimport { MDBInput, MDBCard,MDBCardBody } from 'mdbreact';\r\nimport {\r\n  BrowserRouter,\r\n  withRouter\r\n} from \"react-router-dom\"; \r\nimport { useHistory } from 'react-router';\r\nimport './myStyle.css'\r\nimport { NavLink } from 'react-router-dom';\r\nimport { MDBSpinner } from 'mdb-react-ui-kit';\r\n\r\n export default function CalculationCustomers(Props){\r\n  const [show,setShow]=useState(false);\r\n  let Company = useSelector((store) => {return store.Companies.company }); \r\n  let CodeCalculation = useSelector((store) => {return store.ProfileCalculations.profileCalculation})\r\n  console.log(CodeCalculation)\r\n  const dispatch = useDispatch();\r\n  const [customers, setCustomers] = useState(useSelector((state) => { return state.customers }))\r\n  const [profileCalculation,setProfileCalculation]=useState(!Props.profileCalculation?{}:Props.profileCalculation)\r\n  const [theClassificaion,settheClassificaion]=useState(useSelector((state) => { return state.theClassificaion }))\r\n   const [G,setG]=useState();\r\n  useEffect(async () => {\r\n\r\n    \r\n    var date = new Date();\r\n   \r\n    var dateNow = \"\"+date.getDate()+\"/\"+(date.getMonth()+1)+\"/\"+date.getFullYear()\r\n    setG(dateNow)\r\n    let C = await getAllCustomersByCompany(dispatch,Company.codeCompany);\r\n  \r\n    if (C) {\r\n        setCustomers(C)\r\n    }\r\n  }, [])\r\n\r\n\r\nconst sendToClassification = async () => {\r\n    debugger\r\n    var date = new Date();\r\n     var dateNow = \"\"+date.getDate()+\"/\"+(date.getMonth()+1)+\"/\"+date.getFullYear()\r\n  \r\n     let DateStart = document.getElementById(\"DateStart\").value\r\n     let DateFinish = document.getElementById(\"DateFinish\").value\r\n    var d1= new Date(DateStart);\r\n    var d2= new Date(DateFinish);\r\n     if(d2.getFullYear()<d1.getFullYear() || d2.getFullYear()>date.getFullYear() || d1.getFullYear()>date.getFullYear() )\r\n      alert(\"בדוק ששדה השנה תקין\")\r\n    else{\r\n      // if(Company){\r\n             \r\n      //   setShow(true);\r\n      // const TheClassificaion = await calculationProfile(dispatch,Company.codeCompany,dateNow,DateStart,DateFinish);\r\n      \r\n      // if(TheClassificaion){\r\n      //   setShow(false);\r\n      //  settheClassificaion(TheClassificaion)\r\n\r\n      // return TheClassificaion\r\n    \r\n     \r\n      // }}\r\n      // else{\r\n      //   alert(\"אנא הרשם או התחבר תחילה\")\r\n      // }\r\n\r\n      \r\n      if(d2.getFullYear()===d1.getFullYear() )\r\n      {\r\n        if(d2.getMonth()<d1.getMonth()|| d2.getMonth()>date.getMonth() || d1.getMonth()>date.getMonth() )\r\n        alert(\"בדוק ששדה החודש תקין  \")\r\n        else{\r\n        // {if(Company){\r\n             \r\n        //   setShow(true);\r\n        // const TheClassificaion = await calculationProfile(dispatch,Company.codeCompany,dateNow,DateStart,DateFinish);\r\n        \r\n        // if(TheClassificaion){\r\n        //   setShow(false);\r\n        //  settheClassificaion(TheClassificaion)\r\n\r\n        // return TheClassificaion\r\n      \r\n        \r\n        // }}\r\n        // else{\r\n        //   alert(\"אנא הרשם או התחבר תחילה\")\r\n        // }\r\n          if(d2.getMonth()===d1.getMonth())\r\n          {\r\n\r\n            if(d2.getDate()<d1.getDate()||d2.getDate()>date.getDate() || d1.getDate()>date.getDate())\r\n            alert(\"  בדוק ששדה היום תקין\")\r\n            else{  if(Company){\r\n             \r\n              setShow(true);\r\n            const TheClassificaion = await calculationProfile(dispatch,Company.codeCompany,dateNow,DateStart,DateFinish);\r\n            \r\n            if(TheClassificaion){\r\n              setShow(false);\r\n             settheClassificaion(TheClassificaion)\r\n\r\n            return TheClassificaion\r\n          \r\n           \r\n            }}\r\n            else{\r\n              alert(\"אנא הרשם או התחבר תחילה\")\r\n            }}\r\n          }\r\n          else{  if(Company){\r\n            setShow(true);\r\n            debugger;\r\n          const TheClassificaion = await calculationProfile(dispatch,Company.codeCompany,dateNow,DateStart,DateFinish);\r\n          if(TheClassificaion){\r\n            setShow(false);\r\n           settheClassificaion(TheClassificaion)\r\n        \r\n          alert(\"אנא המתן לקוחותיך עוברים סיווג\");\r\n          return TheClassificaion\r\n        \r\n          }}\r\n          else{\r\n            alert(\"אנא הרשם או התחבר תחילה\")\r\n          }}\r\n        }\r\n      \r\n      }\r\n     else{\r\n      if(Company){\r\n      const TheClassificaion = await calculationProfile(dispatch,Company.codeCompany,dateNow,DateStart,DateFinish);\r\n      if(TheClassificaion){\r\n       setShow(false);\r\n       settheClassificaion(TheClassificaion)\r\n      return TheClassificaion\r\n      }}\r\n      else{\r\n\r\n        alert(\"אנא הרשם או התחבר תחילה\")\r\n      }\r\n    }\r\n    }\r\n  }\r\n\r\n  const up=(e)=>{\r\n    setProfileCalculation(e.target.value)\r\n  }\r\n  \r\n\r\n\r\n return <>\r\n {show===false ?\r\n    <BrowserRouter className=\"table\">\r\n      \r\n    \r\n    \r\n   \r\n    <lable className='bDate'><h5>תאריך סיווג נוכחי  </h5></lable>\r\n    <p className='pdate'>{G}</p>\r\n     { theClassificaion === undefined ?\r\n     <div className='bDate'>\r\n      \r\n<table>\r\n  <tr>\r\n    <td><label className='bDate'><h5>בחר תאריך התחלה</h5></label></td>\r\n    <td> <lable  className='bDate'><h5>בחר תאריך סיום</h5></lable></td>\r\n    </tr>\r\n  <tr>\r\n    <td> <MDBInput  type=\"date\" id=\"DateStart\" value={profileCalculation.fromDate} onChange={(e) => { up(e) }} style={{width:\"150px\"}}></MDBInput></td>\r\n    <td> <MDBInput  type=\"date\" id=\"DateFinish\" value={profileCalculation.toDate} onChange={(e) => { up(e) }} style={{width:\"150px\"}}></MDBInput></td>\r\n    </tr>\r\n  </table>    \r\n  <MDBBtn onClick={()=>{sendToClassification()}}>סווג</MDBBtn>\r\n    </div>\r\n    \r\n    :\r\n    <p></p>\r\n        }\r\n  \r\n    <p></p>\r\n    <br></br>\r\n    \r\n    <div className=\"square justify-content-center\">\r\n    {theClassificaion === undefined?<></> :\r\n<MDBCard style={{opacity:\"0.8\"}}><MDBCardBody><MDBTable striped>\r\n        <MDBTableHead>\r\n          <tr >\r\n            <th  scope='col'>#</th>\r\n            <th scope='col'>שם:</th>\r\n            <th scope='col'>אימייל:</th>\r\n            <th scope='col'>פרופיל אחרון:</th>\r\n          </tr>\r\n        </MDBTableHead>\r\n        <MDBTableBody>\r\n          {theClassificaion === undefined ? <h3>wait...</h3> :\r\n            theClassificaion.map((f, i) =>\r\n\r\n              <tr >\r\n                <th scope='row'>{++i}</th>\r\n                <td >{f.nameCustomer}</td>\r\n                <td>{f.emailCustomer}</td>\r\n                <td>{f.statusCustomer}</td>\r\n                \r\n                < td>\r\n                  <div class=\"d-grid gap-2 d-md-flex justify-content-md\">\r\n                \r\n                    \r\n                  </div>\r\n                </td>\r\n                \r\n              </tr>\r\n            )}\r\n        </MDBTableBody>\r\n      </MDBTable></MDBCardBody></MDBCard>\r\n\r\n \r\n      }\r\n    </div>\r\n    \r\n\r\n    </BrowserRouter>:\r\n      <>\r\n    \r\n      <h2 > לקוחותיך עוברים סיווג כעת</h2>\r\n      <h2>הדבר עשוי להמשך כמה דקות אנא המתן...</h2>\r\n<div  className='text-center'>\r\n      <MDBSpinner className='rol' role='status' size='350px'> \r\n      </MDBSpinner> \r\n</div>\r\n<br />\r\n \r\n\r\n</>}\r\n  </>\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}