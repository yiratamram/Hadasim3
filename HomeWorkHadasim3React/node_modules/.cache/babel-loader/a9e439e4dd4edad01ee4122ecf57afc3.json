{"ast":null,"code":"import axios from \"axios\";\nimport { useDispatch } from \"react-redux\";\nimport { GetCustomer, GetAllCustomers, AddCustomer } from './CustomerAction';\nexport const defaultURL = \"http://localhost:10362\";\nexport const getAllCustomersFromServer = async dispatch => {\n  const customersPromise = axios.get(defaultURL + \"/GetAllCustomers\");\n  const response = await customersPromise;\n  const customers = response.data;\n  dispatch(GetAllCustomers(customers));\n  return customers;\n};\nexport const getCustomerFromserverById = async (dispatch, id, pass) => {\n  const customersPromise = axios.get(defaultURL + \"/GetCustomer/\" + id + \"%2C\" + pass + \"?Id=\" + id + \"&Password=\" + pass);\n  const response = await customersPromise;\n  const customer = response.data;\n  console.log(customer);\n  dispatch(GetCustomer(customer));\n  return customer;\n};\nexport const addCustomer = async (dispatch, idProduct, nameCustomer, passwordCustomer, creditcardCustomer) => {\n  const newCustomer = {\n    IdCustomer: idProduct,\n    NameCustomer: nameCustomer,\n    PasswordCustomer: passwordCustomer,\n    CreditcardCustomer: creditcardCustomer\n  };\n\n  try {\n    const customerPromise = await axios.post(defaultURL + \"/AddCustomer/\", newCustomer);\n    console.log(customerPromise);\n    await dispatch(AddCustomer(customerPromise.data));\n    const response = await customerPromise;\n    return customerPromise.data;\n  } catch (e) {\n    console.log(e);\n  }\n\n  return customer;\n};","map":{"version":3,"sources":["D:/יראת עמרם/שולחן העבודה/לימודים שנה ב/react/פרוייקט חנוכה/MDB 2 React/src/Redux/Customer/CustomersThunk.js"],"names":["axios","useDispatch","GetCustomer","GetAllCustomers","AddCustomer","defaultURL","getAllCustomersFromServer","dispatch","customersPromise","get","response","customers","data","getCustomerFromserverById","id","pass","customer","console","log","addCustomer","idProduct","nameCustomer","passwordCustomer","creditcardCustomer","newCustomer","IdCustomer","NameCustomer","PasswordCustomer","CreditcardCustomer","customerPromise","post","e"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAAQC,WAAR,EAAoBC,eAApB,EAAoCC,WAApC,QAAsD,kBAAtD;AACA,OAAO,MAAMC,UAAU,GAAC,wBAAjB;AAGN,OAAO,MAAMC,yBAAyB,GAAC,MAAMC,QAAN,IACxC;AACI,QAAMC,gBAAgB,GAACR,KAAK,CAACS,GAAN,CAAUJ,UAAU,GAAC,kBAArB,CAAvB;AACC,QAAMK,QAAQ,GAAC,MAAMF,gBAArB;AACA,QAAMG,SAAS,GAACD,QAAQ,CAACE,IAAzB;AACAL,EAAAA,QAAQ,CAACJ,eAAe,CAACQ,SAAD,CAAhB,CAAR;AACA,SAAOA,SAAP;AACH,CAPM;AAUR,OAAO,MAAME,yBAAyB,GAAG,OAAON,QAAP,EAAgBO,EAAhB,EAAmBC,IAAnB,KAA4B;AAEjE,QAAMP,gBAAgB,GAAGR,KAAK,CAACS,GAAN,CAAUJ,UAAU,GAAC,eAAX,GAA2BS,EAA3B,GAA8B,KAA9B,GAAoCC,IAApC,GAAyC,MAAzC,GAAgDD,EAAhD,GAAmD,YAAnD,GAAgEC,IAA1E,CAAzB;AACA,QAAML,QAAQ,GAAG,MAAMF,gBAAvB;AACA,QAAMQ,QAAQ,GAAGN,QAAQ,CAACE,IAA1B;AACAK,EAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACAT,EAAAA,QAAQ,CAACL,WAAW,CAACc,QAAD,CAAZ,CAAR;AACA,SAAOA,QAAP;AAEH,CATM;AAWN,OAAO,MAAMG,WAAW,GAAG,OAAMZ,QAAN,EAAea,SAAf,EAAyBC,YAAzB,EAAsCC,gBAAtC,EAAuDC,kBAAvD,KAC1B;AACK,QAAMC,WAAW,GAAC;AAAEC,IAAAA,UAAU,EAACL,SAAb;AAAuBM,IAAAA,YAAY,EAAEL,YAArC;AAAkDM,IAAAA,gBAAgB,EAACL,gBAAnE;AAAoFM,IAAAA,kBAAkB,EAACL;AAAvG,GAAlB;;AACA,MAAG;AACH,UAAMM,eAAe,GAAE,MAAM7B,KAAK,CAAC8B,IAAN,CAAWzB,UAAU,GAAC,eAAtB,EAAsCmB,WAAtC,CAA7B;AACAP,IAAAA,OAAO,CAACC,GAAR,CAAYW,eAAZ;AACA,UAAOtB,QAAQ,CAACH,WAAW,CAACyB,eAAe,CAACjB,IAAjB,CAAZ,CAAf;AACA,UAAMF,QAAQ,GAAG,MAAMmB,eAAvB;AACA,WAAOA,eAAe,CAACjB,IAAvB;AACC,GAND,CAOA,OAAMmB,CAAN,EAAQ;AACJd,IAAAA,OAAO,CAACC,GAAR,CAAYa,CAAZ;AACH;;AACD,SAAOf,QAAP;AACN,CAdO","sourcesContent":["import axios from \"axios\"\r\nimport { useDispatch } from \"react-redux\";\r\nimport {GetCustomer,GetAllCustomers,AddCustomer} from './CustomerAction';\r\nexport const defaultURL=\"http://localhost:10362\"\r\n\r\n\r\n export const getAllCustomersFromServer=async(dispatch)=>\r\n{\r\n    const customersPromise=axios.get(defaultURL+\"/GetAllCustomers\");\r\n     const response=await customersPromise;\r\n     const customers=response.data;\r\n     dispatch(GetAllCustomers(customers))\r\n     return customers;\r\n }\r\n \r\n\r\nexport const getCustomerFromserverById = async (dispatch,id,pass) => {\r\n    \r\n    const customersPromise = axios.get(defaultURL+\"/GetCustomer/\"+id+\"%2C\"+pass+\"?Id=\"+id+\"&Password=\"+pass);\r\n    const response = await customersPromise;\r\n    const customer = response.data;\r\n    console.log(customer);\r\n    dispatch(GetCustomer(customer))\r\n    return customer;\r\n\r\n}\r\n\r\n export const addCustomer = async(dispatch,idProduct,nameCustomer,passwordCustomer,creditcardCustomer)=>\r\n  {   \r\n       const newCustomer={ IdCustomer:idProduct,NameCustomer: nameCustomer,PasswordCustomer:passwordCustomer,CreditcardCustomer:creditcardCustomer};\r\n       try{\r\n       const customerPromise =await axios.post(defaultURL+\"/AddCustomer/\",newCustomer);\r\n       console.log(customerPromise);\r\n       await  dispatch(AddCustomer(customerPromise.data));\r\n       const response = await customerPromise;\r\n       return customerPromise.data;\r\n       }\r\n       catch(e){\r\n           console.log(e);\r\n       }\r\n       return customer;\r\n}\r\n\r\n\r\n\r\n\r\n\r\n \r\n\r\n\r\n\r\n\r\n\r\n    \r\n    \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}