{"ast":null,"code":"import produce from 'immer';\nconst CustomersInitialState = {\n  customer: {},\n  customers: [],\n  isMenneger: 0,\n  basket: [],\n  finalPriceInBasket: 0\n};\nexport const CustomersReducer = produce(_c = (state, action) => {\n  let i;\n\n  switch (action.type) {\n    case \"GET_CUSROMER\":\n      state.customer = action.payload;\n      break;\n\n    case \"GET_CUSROMER_ID\":\n      state.customer = action.payload;\n      break;\n\n    case \"GET_ALL_CUSTOMERS\":\n      state.customers.push(action.payload);\n      break;\n\n    case \"ADD_CUSTOMER\":\n      state.customers.push(action.payload);\n      break;\n\n    case \"UPDATE_CUSTOMER\":\n      state.customers.push(action.payload);\n      break;\n\n    case \"IS_MENNEGER\":\n      state.isMenneger = action.payload;\n      break;\n    //פונקציות של סל קניות\n\n    case \"ADD_TO_BASKET\":\n      state.basket.push(action.payload); //בהתחברות המשתמש\n\n      state.finalPriceInBasket += action.payload.finalPrice;\n      break;\n\n    case \"UPDATE_PRODUCT_FROM_BASKET\":\n      for (i = 0; i < state.basket.length; i++) if (state.basket[i].idProduct == action.payload.idProduct) break;\n\n      state.basket[i].amount = action.payload.amount;\n      state.basket[i].finalPrice = action.payload.finalPrice;\n      state.basket[i].finalPrice = state.basket[i].priceProduct * action.payload.amount;\n      console.log(\"lll\", state.basket[i].finalPrice);\n      state.finalPriceInBasket += state.basket[i].finalPrice;\n      break;\n\n    case \"DELET_PRODUCT_FROM_BASKET\":\n      state.basket = state.basket.filter(x => x.idProduct != action.payload.idProduct);\n      state.finalPriceInBasket -= action.payload.finalPrice;\n      break;\n  }\n}, CustomersInitialState);\n_c2 = CustomersReducer;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"CustomersReducer$produce\");\n$RefreshReg$(_c2, \"CustomersReducer\");","map":{"version":3,"sources":["D:/יראת עמרם/שולחן העבודה/לימודים שנה ב/react/פרוייקט חנוכה/MDB 2 React/src/Redux/Customer/CustomerReducer.js"],"names":["produce","CustomersInitialState","customer","customers","isMenneger","basket","finalPriceInBasket","CustomersReducer","state","action","i","type","payload","push","finalPrice","length","idProduct","amount","priceProduct","console","log","filter","x"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,OAApB;AACA,MAAMC,qBAAqB,GAAC;AACxBC,EAAAA,QAAQ,EAAC,EADe;AAExBC,EAAAA,SAAS,EAAC,EAFc;AAGxBC,EAAAA,UAAU,EAAC,CAHa;AAIxBC,EAAAA,MAAM,EAAC,EAJiB;AAKxBC,EAAAA,kBAAkB,EAAC;AALK,CAA5B;AASA,OAAO,MAAMC,gBAAgB,GAACP,OAAO,MAAC,CAACQ,KAAD,EAAOC,MAAP,KAAgB;AAClD,MAAIC,CAAJ;;AACA,UAAOD,MAAM,CAACE,IAAd;AAEI,SAAK,cAAL;AAAoBH,MAAAA,KAAK,CAACN,QAAN,GAAeO,MAAM,CAACG,OAAtB;AAA8B;;AAClD,SAAK,iBAAL;AAAuBJ,MAAAA,KAAK,CAACN,QAAN,GAAeO,MAAM,CAACG,OAAtB;AAA8B;;AACrD,SAAK,mBAAL;AAAyBJ,MAAAA,KAAK,CAACL,SAAN,CAAgBU,IAAhB,CAAqBJ,MAAM,CAACG,OAA5B;AAAqC;;AAC9D,SAAK,cAAL;AAAoBJ,MAAAA,KAAK,CAACL,SAAN,CAAgBU,IAAhB,CAAqBJ,MAAM,CAACG,OAA5B;AAAqC;;AACzD,SAAK,iBAAL;AAAuBJ,MAAAA,KAAK,CAACL,SAAN,CAAgBU,IAAhB,CAAqBJ,MAAM,CAACG,OAA5B;AAAqC;;AAC5D,SAAK,aAAL;AAAmBJ,MAAAA,KAAK,CAACJ,UAAN,GAAiBK,MAAM,CAACG,OAAxB;AAAgC;AAE3D;;AACQ,SAAK,eAAL;AAAqBJ,MAAAA,KAAK,CAACH,MAAN,CAAaQ,IAAb,CAAkBJ,MAAM,CAACG,OAAzB,EAArB,CAAuD;;AACvDJ,MAAAA,KAAK,CAACF,kBAAN,IAA2BG,MAAM,CAACG,OAAR,CAAiBE,UAA3C;AAAsD;;AAGtD,SAAK,4BAAL;AACI,WAAIJ,CAAC,GAAC,CAAN,EAAQA,CAAC,GAACF,KAAK,CAACH,MAAN,CAAaU,MAAvB,EAA8BL,CAAC,EAA/B,EACI,IAAGF,KAAK,CAACH,MAAN,CAAaK,CAAb,EAAgBM,SAAhB,IAA4BP,MAAM,CAACG,OAAR,CAAiBI,SAA/C,EACA;;AAEAR,MAAAA,KAAK,CAACH,MAAN,CAAaK,CAAb,EAAgBO,MAAhB,GAAwBR,MAAM,CAACG,OAAR,CAAiBK,MAAxC;AACAT,MAAAA,KAAK,CAACH,MAAN,CAAaK,CAAb,EAAgBI,UAAhB,GAA4BL,MAAM,CAACG,OAAR,CAAiBE,UAA5C;AAGCN,MAAAA,KAAK,CAACH,MAAN,CAAaK,CAAb,EAAgBI,UAAhB,GAA2BN,KAAK,CAACH,MAAN,CAAaK,CAAb,EAAgBQ,YAAhB,GAA8BT,MAAM,CAACG,OAAR,CAAiBK,MAAzE;AACAE,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAkBZ,KAAK,CAACH,MAAN,CAAaK,CAAb,EAAgBI,UAAlC;AACLN,MAAAA,KAAK,CAACF,kBAAN,IAA2BE,KAAK,CAACH,MAAN,CAAaK,CAAb,EAAgBI,UAA3C;AACI;;AACR,SAAK,2BAAL;AAAiCN,MAAAA,KAAK,CAACH,MAAN,GAAaG,KAAK,CAACH,MAAN,CAAagB,MAAb,CAAoBC,CAAC,IAAEA,CAAC,CAACN,SAAF,IAAcP,MAAM,CAACG,OAAP,CAAeI,SAApD,CAAb;AACjCR,MAAAA,KAAK,CAACF,kBAAN,IAA0BG,MAAM,CAACG,OAAP,CAAeE,UAAzC;AAGA;AA/BJ;AAkCH,CApCoC,EAoCnCb,qBApCmC,CAA9B;MAAMM,gB","sourcesContent":["import produce from 'immer';\r\nconst CustomersInitialState={\r\n    customer:{},\r\n    customers:[] ,  \r\n    isMenneger:0,\r\n    basket:[],\r\n    finalPriceInBasket:0\r\n}\r\n\r\n\r\nexport const CustomersReducer=produce((state,action)=>{\r\n    let i;\r\n    switch(action.type)\r\n    {\r\n        case \"GET_CUSROMER\":state.customer=action.payload;break;\r\n        case \"GET_CUSROMER_ID\":state.customer=action.payload;break;\r\n        case \"GET_ALL_CUSTOMERS\":state.customers.push(action.payload);break;\r\n        case \"ADD_CUSTOMER\":state.customers.push(action.payload);break;\r\n        case \"UPDATE_CUSTOMER\":state.customers.push(action.payload);break;\r\n        case \"IS_MENNEGER\":state.isMenneger=action.payload;break;\r\n\r\n//פונקציות של סל קניות\r\n        case \"ADD_TO_BASKET\":state.basket.push(action.payload);//בהתחברות המשתמש\r\n        state.finalPriceInBasket+=(action.payload).finalPrice;break;\r\n\r\n\r\n        case \"UPDATE_PRODUCT_FROM_BASKET\":\r\n            for(i=0;i<state.basket.length;i++)\r\n                if(state.basket[i].idProduct==(action.payload).idProduct)\r\n                break;\r\n\r\n                state.basket[i].amount=(action.payload).amount;\r\n                state.basket[i].finalPrice=(action.payload).finalPrice;\r\n                \r\n\r\n                 state.basket[i].finalPrice=state.basket[i].priceProduct*(action.payload).amount ;\r\n                 console.log(\"lll\",state.basket[i].finalPrice);\r\n            state.finalPriceInBasket+=(state.basket[i].finalPrice);\r\n                break;\r\n        case \"DELET_PRODUCT_FROM_BASKET\":state.basket=state.basket.filter(x=>x.idProduct!=(action.payload.idProduct));\r\n        state.finalPriceInBasket-=action.payload.finalPrice;\r\n\r\n\r\n        break;\r\n\r\n    }\r\n},CustomersInitialState)\r\n\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}