{"ast":null,"code":"var _jsxFileName = \"D:\\\\Programing\\\\HadasimProject\\\\HomeWorkHadasim3React\\\\src\\\\Components\\\\SignUp.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from \"react\";\nimport { MDBContainer, MDBRow, MDBCol, MDBBtn, MDBInput } from 'mdbreact';\nimport { useState } from 'react';\nimport { useDispatch } from \"react-redux\";\nimport { addUser, updateUser } from '../Redux/Users/UsersThunk';\nimport { MDBModal, MDBModalBody, MDBModalHeader, MDBModalFooter } from 'mdbreact';\nimport { useSelector } from \"react-redux\";\nimport axios from \"axios\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function SignUp() {\n  _s();\n\n  debugger;\n  let User = useSelector(store => {\n    return store.Users.user;\n  });\n  debugger;\n  console.log(\"User\");\n  console.log(User.idUser);\n  const [modal14, setModal14] = useState(true);\n  const [errors, setErrors] = useState({\n    IdUser: \"שדה חובה\",\n    PrivateName: \"שדה חובה\",\n    FamilyName: \"שדה חובה\",\n    CityAdress: \"שדה חובה\",\n    StreetAdress: \"שדה חובה\",\n    NumberAdress: \"שדה חובה\",\n    DateOfBirth: \"שדה חובה\",\n    Phone: \"שדה חובה\",\n    MobilePhone: \"שדה חובה\",\n    DateOfPositiveResult: \"שדה חובה\",\n    DateOfRecovery: \"שדה חובה\"\n  });\n  const [user, setUser] = useState({\n    idUser: \"\",\n    privateName: \"\",\n    familyName: \"\",\n    cityAdress: \"\",\n    streetAdress: \"\",\n    numberAdress: \"\",\n    dateOfBirth: \"\",\n    numberAdress: \"\",\n    phone: \"\",\n    mobilePhone: \"\"\n  });\n  const dispatch = useDispatch();\n  useEffect(async () => {\n    if (!User) {\n      User.IdUser = \"\";\n      User.PrivateName = \"\";\n      User.FamilyName = \"\";\n      User.CityAdress = \"\";\n      User.StreetAdress = \"\";\n      User.NumberAdress = \"\";\n      User.DateOfBirth = \"\";\n      User.Phone = \"\";\n      User.MobilePhone = \"\";\n    } else {\n      User.PrivateName = \"תקין!\";\n      User.FamilyName = \"תקין!\";\n      User.CityAdress = \"תקין!\";\n      User.StreetAdress = \"תקין!\";\n      User.NumberAdress = \"תקין!\";\n      User.Phone = \"תקין!\";\n      User.MobilePhone = \"\";\n    }\n\n    setUser(User);\n  }, []);\n\n  const ValidDate = event => {\n    var birthday = event.target.value;\n\n    if (!event.target.value) {\n      setErrors({ ...errors,\n        DateOfBirth: \"שדה חובה!\"\n      });\n    }\n\n    if (!/^\\d{4}-\\d{2}-\\d{2}$/.test(birthday)) {\n      setErrors({ ...errors,\n        DateOfBirth: \"תאריך שגוי\"\n      });\n    }\n\n    let parts = birthday.split('-');\n    let now = new Date();\n    let year = parseInt(parts[0], 10);\n    let currentYear = now.getFullYear();\n    let month = parts[1][0] === '0' ? parseInt(parts[1][1], 10) : parseInt(parts[1], 10);\n    let day = parts[2][0] === '0' ? parseInt(parts[2][1], 10) : parseInt(parts[2], 10);\n\n    if (year >= currentYear) {\n      setErrors({ ...errors,\n        DateOfBirth: \"שנה שגוי\"\n      });\n    } else if (currentYear - year < 18 || currentYear - year > 80) {\n      setErrors({ ...errors,\n        DateOfBirth: \"אינך בגיל המתאים לעבודה\"\n      });\n    } else if (month < 1 || month > 12) {\n      setErrors({ ...errors,\n        DateOfBirth: \"חודש שגוי\"\n      });\n    } else if (day < 1 || day > 31) {\n      setErrors({ ...errors,\n        DateOfBirth: \"יום שגוי\"\n      });\n    } else setErrors({ ...errors,\n      DateOfBirth: \"תקין!\"\n    });\n  };\n\n  const validatememberID = event => {\n    var validID = /^([1-9]|[2-8]\\d|90)\\d{7}$/;\n\n    if (!event.target.value) {\n      setErrors({ ...errors,\n        IdUser: \"שדה חובה!\"\n      });\n    } else if (event.target.value.match(validID)) {\n      setErrors({ ...errors,\n        IdUser: \"תקין!\"\n      });\n    } else {\n      setErrors({ ...errors,\n        IdUser: 'ת.ז שגויה!!'\n      });\n    }\n\n    setUser({ ...user,\n      idUser: event.target.value\n    });\n  };\n\n  const validatememberNumberAdress = event => {\n    var validNumberAdress = /^[0-9]+$/;\n\n    if (!event.target.value) {\n      setErrors({ ...errors,\n        NumberAdress: \"שדה חובה!\"\n      });\n    } else if (event.target.value.match(validNumberAdress)) {\n      setErrors({ ...errors,\n        NumberAdress: \"תקין!\"\n      });\n    } else {\n      setErrors({ ...errors,\n        NumberAdress: 'ת.ז שגויה!!'\n      });\n    }\n\n    setUser({ ...user,\n      NumberAdress: event.target.value\n    });\n  };\n\n  const validatememberCellPhone = event => {\n    var validMobilePhone = /^0[5-8]\\d{8}$/;\n\n    if (!event.target.value) {\n      setErrors({ ...errors,\n        MobilePhone: \"שדה חובה!\"\n      });\n    } else if (event.target.value.match(validMobilePhone)) {\n      setErrors({ ...errors,\n        MobilePhone: \"תקין!\"\n      });\n    } else {\n      setErrors({ ...errors,\n        MobilePhone: 'ת.ז שגויה!!'\n      });\n    }\n\n    setUser({ ...user,\n      MobilePhone: event.target.value\n    });\n  };\n\n  const validatememberPhone = event => {\n    var validPhone = /\\d/g;\n\n    if (!event.target.value) {\n      setErrors({ ...errors,\n        Phone: \"שדה חובה!\"\n      });\n    } else if (event.target.value.match(validPhone) && event.target.value.length == 9) {\n      setErrors({ ...errors,\n        Phone: \"תקין!\"\n      });\n    } else {\n      setErrors({ ...errors,\n        Phone: 'פלאפון שגוי!!'\n      });\n    }\n\n    setUser({ ...user,\n      Phone: event.target.value\n    });\n  };\n\n  const validatememberPrivateName = event => {\n    var validPrivateName = /^[\\u0590-\\u05FF]+(?:\\s[\\u0590-\\u05FF]+)*$/;\n\n    if (!event.target.value) {\n      setErrors({ ...errors,\n        PrivateName: \"שדה חובה!\"\n      });\n    } else if (event.target.value.match(validPrivateName)) {\n      setErrors({ ...errors,\n        PrivateName: \"תקין!\"\n      });\n    } else {\n      setErrors({ ...errors,\n        PrivateName: 'שם שגוי!!'\n      });\n    }\n\n    setUser({ ...user,\n      PrivateName: event.target.value\n    });\n  };\n\n  const validatememberFamilyName = event => {\n    var validFamilyName = /^[\\u0590-\\u05FF]+(?:\\s[\\u0590-\\u05FF]+)*$/;\n\n    if (!event.target.value) {\n      setErrors({ ...errors,\n        FamilyName: \"שדה חובה!\"\n      });\n    } else if (event.target.value.match(validFamilyName)) {\n      setErrors({ ...errors,\n        FamilyName: \"תקין!\"\n      });\n    } else {\n      setErrors({ ...errors,\n        FamilyName: 'משפחה שגויה!!'\n      });\n    }\n\n    setUser({ ...user,\n      FamilyName: event.target.value\n    });\n  };\n\n  const ChooseCity = event => {\n    /**\r\n     * Select a street by city in Israel\r\n     * Cities data is from https://data.gov.il/dataset/citiesandsettelments\r\n     * Streets data is from https://data.gov.il/dataset/321\r\n     * API documentation https://docs.ckan.org/en/latest/maintaining/datastore.html#ckanext.datastore.logic.action.datastore_search\r\n     */\n    // REST API URL\n    const api_url = \"https://data.gov.il/api/3/action/datastore_search\"; // Cities endpoint\n\n    const cities_resource_id = \"5c78e9fa-c2e2-4771-93ff-7f400a12f7ba\"; // Streets endpoint\n\n    const streets_resource_id = \"a7296d1a-f8c9-4b70-96c2-6ebb4352f8e3\"; // Field names\n\n    const city_name_key = \"שם_ישוב\";\n    const street_name_key = \"שם_רחוב\"; // dataset ids\n\n    const cities_data_id = \"cities-data\";\n    const streets_data_id = \"streets-data\"; // input elements\n\n    const cities_input = document.getElementById(\"city-choice\");\n    const streets_input = document.getElementById(\"street-choice\");\n    /**\r\n     * Get data from gov data API\r\n     * Uses Axios just because it was easy\r\n     */\n\n    const getData = (resource_id, q = \"\", limit = \"100\") => {\n      //console.log(\"sending\", resource_id, query);\n      return axios.get(api_url, {\n        params: {\n          resource_id,\n          q,\n          limit\n        },\n        responseType: \"json\"\n      });\n    };\n    /**\r\n     * Parse records from data into 'option' elements,\r\n     * use data from key 'field_name' as the option value\r\n     */\n\n\n    const parseResponse = (records = [], field_name) => {\n      const parsed = records.map(record => `<option value=\"${record[field_name].trim()}\">`).join(\"\\n\") || \"\"; //console.log(\"parsed\", field_name, parsed);\n\n      return Promise.resolve(parsed);\n    };\n    /**\r\n     * Fetch data, parse, and populate Datalist\r\n     */\n\n\n    const populateDataList = (id, resource_id, field_name, query, limit) => {\n      const datalist_element = document.getElementById(id);\n\n      if (!datalist_element) {\n        console.log(\"Datalist with id\", id, \"doesn't exist in the document, aborting\");\n        return;\n      }\n\n      getData(resource_id, query, limit).then(response => {\n        var _response$data, _response$data$result;\n\n        return parseResponse(response === null || response === void 0 ? void 0 : (_response$data = response.data) === null || _response$data === void 0 ? void 0 : (_response$data$result = _response$data.result) === null || _response$data$result === void 0 ? void 0 : _response$data$result.records, field_name);\n      }).then(html => datalist_element.innerHTML = html).catch(error => {\n        console.log(\"Couldn't get list for\", id, \"query:\", query, error);\n      });\n    }; // ---- APP ----\n\n    /**\r\n     * Populate cities.\r\n     * There are about 1300 cities in Israel, and the API upper limit is 32000\r\n     * so we can safely populate the list only once.\r\n     */\n\n\n    populateDataList(cities_data_id, cities_resource_id, city_name_key, undefined, 32000);\n    /**\r\n     * Populate streets\r\n     * Update the streets list on every city name change\r\n     * (assuming there aren't more than 32,000 streets in any city)\r\n     */\n\n    cities_input.addEventListener(\"change\", event => {\n      populateDataList(streets_data_id, streets_resource_id, street_name_key, {\n        שם_ישוב: cities_input.value\n      }, 32000);\n    });\n  }; // const isIsraeliCity = async (cityName) => {\n  //   const API_KEY = 'YOUR_API_KEY';\n  //   const url = `https://maps.googleapis.com/maps/api/geocode/json?address=${cityName}&components=country:IL&key=${API_KEY}`;\n  //   try {\n  //     const response = await fetch(url);\n  //     const data = await response.json();\n  //     if (data.status === 'OK' && data.results.length > 0) {\n  //       const city = data.results[0].address_components.find(component => component.types.includes('locality'));\n  //       return city.long_name.toLowerCase() === cityName.toLowerCase();\n  //     } else {\n  //       setErrors({ ...errors, CityAdress: 'עיר שגויה!!' })\n  //       return false;\n  //     }\n  //   } catch (error) {\n  //     console.error(error);\n  //     setErrors({ ...errors, CityAdress: 'עיר שגויה!!' })\n  //     return false;\n  //   }\n  // };\n\n\n  const validDate = (d1, d2) => {\n    var date = new Date();\n    if (d1 == \"0001-01-01T00:00:00\" || d2 == \"0001-01-01T00:00:00\" || d1 == null || d2 == null || d1 == \"\" || d2 == \"\") return true;else {\n      var d1 = new Date(d1);\n      var d2 = new Date(d2);\n      if (d2.getFullYear() < d1.getFullYear() || d2.getFullYear() > date.getFullYear() || d1.getFullYear() > date.getFullYear()) return false;else {\n        if (d2.getFullYear() > d1.getFullYear() && d2.getFullYear() <= date.getFullYear()) return true;\n\n        if (d2.getFullYear() === d1.getFullYear() && d2.getFullYear() <= date.getFullYear()) {\n          if (d2.getMonth() < d1.getMonth()) return false;else {\n            if (d2.getMonth() === d1.getMonth()) {\n              if (d2.getDate() >= d1.getDate()) return true;\n            } else {\n              return true;\n            }\n          }\n        }\n      }\n    }\n  };\n\n  const newUser = async () => {\n    debugger;\n    let IdUser, DateOfBirth;\n\n    if (!User.idUser) {\n      IdUser = document.getElementById(\"IdUser\").value;\n      DateOfBirth = document.getElementById(\"DateOfBirth\").value;\n    }\n\n    let PrivateName = document.getElementById(\"PrivateName\").value;\n    let FamilyName = document.getElementById(\"FamilyName\").value;\n    let CityAdress = document.getElementById(\"CityAdress\").value;\n    let StreetAdress = document.getElementById(\"StreetAdress\").value;\n    let NumberAdress = document.getElementById(\"NumberAdress\").value;\n    let Phone = document.getElementById(\"Phone\").value;\n    let MobilePhone = document.getElementById(\"MobilePhone\").value; //  let DateOfPositiveResult = document.getElementById(\"DateOfPositiveResult\").value\n    //  let DateOfRecovery = document.getElementById(\"DateOfRecovery\").value\n    // תמונה\n\n    if (User.idUser) {\n      if (validDate(DateOfBirth, new Date()) && errors.IdUser === \"תקין!\" && errors.PrivateName === \"תקין!\" && errors.FamilyName === \"תקין!\" && errors.NumberAdress === \"תקין!\" && errors.Phone === \"תקין!\" && errors.MobilePhone === \"תקין!\") {\n        const user = await updateUser(dispatch, IdUser, PrivateName, FamilyName, CityAdress, StreetAdress, NumberAdress, DateOfBirth, Phone, MobilePhone);\n        if (user) alert(\"הפרטים עודכנו בהצלחה\");\n        setModal14(!modal14);\n      } else {\n        alert(\"הפרטים לא עודכנו אנא וודא שהשדות לא ריקים  ותקינים\");\n      }\n    } else {\n      // errors.CityAdress === \"תקין!\"  && errors.StreetAdress === \"תקין!\" \n      if (validDate(DateOfBirth, new Date()) && errors.IdUser === \"תקין!\" && errors.PrivateName === \"תקין!\" && errors.FamilyName === \"תקין!\" && errors.NumberAdress === \"תקין!\" && errors.Phone === \"תקין!\" && errors.MobilePhone === \"תקין!\") {\n        const user = await addUser(dispatch, IdUser, PrivateName, FamilyName, CityAdress, StreetAdress, NumberAdress, DateOfBirth, Phone, MobilePhone, null, null, null);\n\n        if (user) {\n          alert(\"ברוך הבא \" + PrivateName + \" לאתרינו מקווים שתהיה לך את חווית הגלישה הטובה\");\n          setModal14(!modal14);\n          return user;\n        } else {\n          alert(\"אנא מלא את כל השדות ובדוק שכולם תקינים\");\n        }\n      } else {\n        alert(\"אנא מלא את כל השדות ובדוק שכולם תקינים\");\n      }\n    }\n  };\n\n  const up = event => {\n    //   if (!event.target.value)\n    //   setErrors({ ...errors, nameCompany1: 'שדה חובה*' })\n    //  else \n    setUser(event.target.value);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(MDBContainer, {\n      children: /*#__PURE__*/_jsxDEV(MDBModal, {\n        isOpen: modal14,\n        toggle: () => {\n          setModal14(!modal14);\n        },\n        centered: true,\n        children: [/*#__PURE__*/_jsxDEV(MDBModalHeader, {\n          toggle: () => {\n            setModal14(!modal14);\n          },\n          children: User.idUser ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: \"\\u05D8\\u05D5\\u05E4\\u05E1 \\u05E2\\u05D3\\u05DB\\u05D5\\u05DF\"\n          }, void 0, false) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: \"\\u05D8\\u05D5\\u05E4\\u05E1 \\u05D4\\u05E8\\u05E9\\u05DE\\u05D4 \"\n          }, void 0, false)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 424,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(MDBModalBody, {\n          children: /*#__PURE__*/_jsxDEV(MDBContainer, {\n            children: /*#__PURE__*/_jsxDEV(MDBRow, {\n              children: /*#__PURE__*/_jsxDEV(MDBCol, {\n                md: \"6\",\n                children: /*#__PURE__*/_jsxDEV(\"form\", {\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"grey-text\",\n                    children: [!User.idUser && /*#__PURE__*/_jsxDEV(_Fragment, {\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        children: \"\\u05EA\\u05E2\\u05D5\\u05D3\\u05EA \\u05D6\\u05D4\\u05D5\\u05EA \"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 442,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(MDBInput, {\n                        id: \"IdUser\",\n                        value: user.idUser,\n                        onChange: e => validatememberID(e),\n                        icon: \"user\",\n                        group: true,\n                        type: \"text\",\n                        validate: true,\n                        error: \"wrong\",\n                        success: \"right\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 443,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        style: {\n                          color: \"red\"\n                        },\n                        children: errors.IdUser\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 445,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true), /*#__PURE__*/_jsxDEV(\"label\", {\n                      children: \"\\u05E9\\u05DD \\u05E4\\u05E8\\u05D8\\u05D9\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 449,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(MDBInput, {\n                      id: \"PrivateName\",\n                      value: user.privateName,\n                      onChange: e => {\n                        validatememberPrivateName(e);\n                      },\n                      icon: \"user\",\n                      group: true,\n                      type: \"text\",\n                      validate: true,\n                      error: \"wrong\",\n                      success: \"right\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 450,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      style: {\n                        color: \"red\"\n                      },\n                      children: [errors.PrivateName, \" \"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 452,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                      children: \"\\u05E9\\u05DD \\u05DE\\u05E9\\u05E4\\u05D7\\u05D4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 453,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(MDBInput, {\n                      id: \"FamilyName\",\n                      value: user.familyName,\n                      onChange: e => {\n                        validatememberFamilyName(e);\n                      },\n                      icon: \"envelope\",\n                      group: true,\n                      type: \"email\",\n                      validate: true,\n                      error: \"wrong\",\n                      success: \"right\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 454,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      style: {\n                        color: \"red\"\n                      },\n                      children: errors.FamilyName\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 456,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                      children: \"\\u05E2\\u05D9\\u05E8 \"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 458,\n                      columnNumber: 30\n                    }, this), /*#__PURE__*/_jsxDEV(MDBInput, {\n                      id: \"CityAdress\",\n                      value: user.cityAdress,\n                      onChange: e => {\n                        up(e);\n                      },\n                      icon: \"user\",\n                      group: true,\n                      type: \"text\",\n                      validate: true,\n                      error: \"wrong\",\n                      success: \"right\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 459,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                      children: \"\\u05E8\\u05D7\\u05D5\\u05D1 \"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 462,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(MDBInput, {\n                      id: \"StreetAdress\",\n                      value: user.streetAdress,\n                      onChange: e => {\n                        up(e);\n                      },\n                      icon: \"user\",\n                      group: true,\n                      type: \"text\",\n                      validate: true,\n                      error: \"wrong\",\n                      success: \"right\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 463,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                      children: \"\\u05DE\\u05E1\\u05E4\\u05E8 \\u05D3\\u05D9\\u05E8\\u05D4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 466,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(MDBInput, {\n                      id: \"NumberAdress\",\n                      value: user.numberAdress,\n                      onChange: e => {\n                        validatememberNumberAdress(e);\n                      },\n                      icon: \"user\",\n                      group: true,\n                      type: \"text\",\n                      validate: true,\n                      error: \"wrong\",\n                      success: \"right\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 467,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      style: {\n                        color: \"red\"\n                      },\n                      children: errors.NumberAdress\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 468,\n                      columnNumber: 23\n                    }, this), !User.idUser && /*#__PURE__*/_jsxDEV(_Fragment, {\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        children: \"\\u05EA\\u05D0\\u05E8\\u05D9\\u05DA \\u05DC\\u05D9\\u05D3\\u05D4 \"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 471,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(MDBInput, {\n                        id: \"DateOfBirth\",\n                        value: user.dateOfBirth,\n                        onChange: e => {\n                          up(e);\n                        },\n                        icon: \"lock\",\n                        group: true,\n                        type: \"date\",\n                        validate: true\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 472,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true), /*#__PURE__*/_jsxDEV(\"label\", {\n                      children: \" \\u05D8\\u05DC\\u05E4\\u05D5\\u05DF \"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 475,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(MDBInput, {\n                      id: \"Phone\",\n                      value: user.phone,\n                      onChange: e => {\n                        validatememberPhone(e);\n                      },\n                      icon: \"lock\",\n                      group: true,\n                      type: \"text\",\n                      validate: true\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 476,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      style: {\n                        color: \"red\"\n                      },\n                      children: errors.Phone\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 477,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                      children: \"\\u05E4\\u05DC\\u05D0\\u05E4\\u05D5\\u05DF \\u05E0\\u05D9\\u05D9\\u05D3  \"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 478,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(MDBInput, {\n                      id: \"MobilePhone\",\n                      value: user.mobilePhone,\n                      onChange: e => {\n                        validatememberCellPhone(e);\n                      },\n                      icon: \"lock\",\n                      group: true,\n                      type: \"text\",\n                      validate: true\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 479,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      style: {\n                        color: \"red\"\n                      },\n                      children: errors.MobilePhone\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 480,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-center\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 487,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 439,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 437,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 436,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 435,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 434,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 433,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(MDBModalFooter, {\n          children: User.idUser ? /*#__PURE__*/_jsxDEV(MDBBtn, {\n            color: \"secondary\",\n            onClick: () => newUser(),\n            children: \"\\u05E2\\u05D3\\u05DB\\u05DF\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 499,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(MDBBtn, {\n            color: \"secondary\",\n            onClick: () => newUser(),\n            children: \"\\u05D4\\u05E8\\u05E9\\u05DD\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 500,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 496,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 422,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 421,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_s(SignUp, \"8GlW7JWNFtncgD+MZcFQ1Jqvtgs=\", false, function () {\n  return [useSelector, useDispatch];\n});\n\n_c = SignUp;\n\nvar _c;\n\n$RefreshReg$(_c, \"SignUp\");","map":{"version":3,"sources":["D:/Programing/HadasimProject/HomeWorkHadasim3React/src/Components/SignUp.jsx"],"names":["React","useEffect","MDBContainer","MDBRow","MDBCol","MDBBtn","MDBInput","useState","useDispatch","addUser","updateUser","MDBModal","MDBModalBody","MDBModalHeader","MDBModalFooter","useSelector","axios","SignUp","User","store","Users","user","console","log","idUser","modal14","setModal14","errors","setErrors","IdUser","PrivateName","FamilyName","CityAdress","StreetAdress","NumberAdress","DateOfBirth","Phone","MobilePhone","DateOfPositiveResult","DateOfRecovery","setUser","privateName","familyName","cityAdress","streetAdress","numberAdress","dateOfBirth","phone","mobilePhone","dispatch","ValidDate","event","birthday","target","value","test","parts","split","now","Date","year","parseInt","currentYear","getFullYear","month","day","validatememberID","validID","match","validatememberNumberAdress","validNumberAdress","validatememberCellPhone","validMobilePhone","validatememberPhone","validPhone","length","validatememberPrivateName","validPrivateName","validatememberFamilyName","validFamilyName","ChooseCity","api_url","cities_resource_id","streets_resource_id","city_name_key","street_name_key","cities_data_id","streets_data_id","cities_input","document","getElementById","streets_input","getData","resource_id","q","limit","get","params","responseType","parseResponse","records","field_name","parsed","map","record","trim","join","Promise","resolve","populateDataList","id","query","datalist_element","then","response","data","result","html","innerHTML","catch","error","undefined","addEventListener","שם_ישוב","validDate","d1","d2","date","getMonth","getDate","newUser","alert","up","e","color"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\r\nimport { MDBContainer, MDBRow, MDBCol, MDBBtn, MDBInput } from 'mdbreact';\r\nimport { useState } from 'react';\r\nimport { useDispatch } from \"react-redux\";\r\nimport { addUser, updateUser } from '../Redux/Users/UsersThunk'\r\nimport { MDBModal, MDBModalBody, MDBModalHeader, MDBModalFooter } from 'mdbreact';\r\nimport { useSelector } from \"react-redux\";\r\nimport axios from \"axios\";\r\n\r\nexport default function SignUp() {\r\n  debugger\r\n  let User = useSelector((store) => { return store.Users.user });\r\n  debugger\r\n  console.log(\"User\")\r\n  console.log(User.idUser)\r\n  const [modal14, setModal14] = useState(true);\r\n  const [errors, setErrors] = useState({ IdUser: \"שדה חובה\", PrivateName: \"שדה חובה\", FamilyName: \"שדה חובה\", CityAdress: \"שדה חובה\", StreetAdress: \"שדה חובה\", NumberAdress: \"שדה חובה\", DateOfBirth: \"שדה חובה\", Phone: \"שדה חובה\", MobilePhone: \"שדה חובה\", DateOfPositiveResult: \"שדה חובה\", DateOfRecovery: \"שדה חובה\" });\r\n  const [user, setUser] = useState({ idUser: \"\", privateName: \"\", familyName: \"\", cityAdress: \"\", streetAdress: \"\", numberAdress: \"\", dateOfBirth: \"\", numberAdress: \"\", phone: \"\", mobilePhone: \"\" });\r\n  const dispatch = useDispatch();\r\n\r\n\r\n  useEffect(async () => {\r\n    if (!User) {\r\n      User.IdUser = \"\";\r\n      User.PrivateName = \"\";\r\n      User.FamilyName = \"\";\r\n      User.CityAdress = \"\";\r\n      User.StreetAdress = \"\";\r\n      User.NumberAdress = \"\";\r\n      User.DateOfBirth = \"\";\r\n      User.Phone = \"\";\r\n      User.MobilePhone = \"\";\r\n    }\r\n    else{\r\n     \r\n      User.PrivateName =\"תקין!\" ;\r\n      User.FamilyName = \"תקין!\" ;\r\n      User.CityAdress = \"תקין!\" ;\r\n      User.StreetAdress = \"תקין!\" ;\r\n      User.NumberAdress = \"תקין!\" ;\r\n      User.Phone = \"תקין!\" ;\r\n      User.MobilePhone = \"\";\r\n    }\r\n    setUser(User);\r\n  }, [])\r\n\r\n\r\n  const ValidDate = (event) => {\r\n    var birthday = event.target.value\r\n    if (!event.target.value) {\r\n      setErrors({ ...errors, DateOfBirth: \"שדה חובה!\" });\r\n    }\r\n    if (!/^\\d{4}-\\d{2}-\\d{2}$/.test(birthday)) {\r\n      setErrors({ ...errors, DateOfBirth: \"תאריך שגוי\" })\r\n    }\r\n\r\n    let parts = birthday.split('-');\r\n    let now = new Date();\r\n    let year = parseInt(parts[0], 10);\r\n    let currentYear = now.getFullYear();\r\n    let month = (parts[1][0] === '0') ? parseInt(parts[1][1], 10) : parseInt(parts[1], 10);\r\n    let day = (parts[2][0] === '0') ? parseInt(parts[2][1], 10) : parseInt(parts[2], 10);\r\n\r\n    if (year >= currentYear) {\r\n      setErrors({ ...errors, DateOfBirth: \"שנה שגוי\" })\r\n    }\r\n    else if ((currentYear - year) < 18 || (currentYear - year) > 80) {\r\n      setErrors({ ...errors, DateOfBirth: \"אינך בגיל המתאים לעבודה\" })\r\n    }\r\n    else if (month < 1 || month > 12) {\r\n      setErrors({ ...errors, DateOfBirth: \"חודש שגוי\" })\r\n    }\r\n    else if (day < 1 || day > 31) {\r\n      setErrors({ ...errors, DateOfBirth: \"יום שגוי\" })\r\n    }\r\n    else setErrors({ ...errors, DateOfBirth: \"תקין!\"  })\r\n  };\r\n\r\n\r\n\r\n  const validatememberID = (event) => {\r\n    var validID = /^([1-9]|[2-8]\\d|90)\\d{7}$/;\r\n    if (!event.target.value) {\r\n      setErrors({ ...errors, IdUser: \"שדה חובה!\" });\r\n    }\r\n    else if (event.target.value.match(validID)) {\r\n      setErrors({ ...errors, IdUser: \"תקין!\" });\r\n\r\n    }\r\n    else {\r\n      setErrors({ ...errors, IdUser: 'ת.ז שגויה!!' })\r\n\r\n    }\r\n    setUser({ ...user, idUser: event.target.value })\r\n  }\r\n\r\n  const validatememberNumberAdress = (event) => {\r\n    var validNumberAdress = /^[0-9]+$/;\r\n    if (!event.target.value) {\r\n      setErrors({ ...errors, NumberAdress: \"שדה חובה!\" });\r\n    }\r\n    else if (event.target.value.match(validNumberAdress)) {\r\n      setErrors({ ...errors, NumberAdress: \"תקין!\" });\r\n\r\n    }\r\n    else {\r\n      setErrors({ ...errors, NumberAdress: 'ת.ז שגויה!!' })\r\n\r\n    }\r\n    setUser({ ...user, NumberAdress: event.target.value })\r\n  }\r\n\r\n  const validatememberCellPhone = (event) => {\r\n    var validMobilePhone = /^0[5-8]\\d{8}$/;\r\n    if (!event.target.value) {\r\n      setErrors({ ...errors, MobilePhone: \"שדה חובה!\" });\r\n    }\r\n    else if (event.target.value.match(validMobilePhone)) {\r\n      setErrors({ ...errors, MobilePhone: \"תקין!\" });\r\n\r\n    }\r\n    else {\r\n      setErrors({ ...errors, MobilePhone: 'ת.ז שגויה!!' })\r\n\r\n    }\r\n    setUser({ ...user, MobilePhone: event.target.value })\r\n  }\r\n\r\n\r\n\r\n  const validatememberPhone = (event) => {\r\n    var validPhone = /\\d/g;\r\n    if (!event.target.value) {\r\n      setErrors({ ...errors, Phone: \"שדה חובה!\" });\r\n    }\r\n    else if (event.target.value.match(validPhone) && event.target.value.length == 9) {\r\n      setErrors({ ...errors, Phone: \"תקין!\" });\r\n\r\n    }\r\n    else {\r\n      setErrors({ ...errors, Phone: 'פלאפון שגוי!!' })\r\n\r\n    }\r\n    setUser({ ...user, Phone: event.target.value })\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n  const validatememberPrivateName = (event) => {\r\n    var validPrivateName = /^[\\u0590-\\u05FF]+(?:\\s[\\u0590-\\u05FF]+)*$/;\r\n    if (!event.target.value) {\r\n      setErrors({ ...errors, PrivateName: \"שדה חובה!\" });\r\n    }\r\n    else if (event.target.value.match(validPrivateName)) {\r\n      setErrors({ ...errors, PrivateName: \"תקין!\" });\r\n\r\n    }\r\n    else {\r\n      setErrors({ ...errors, PrivateName: 'שם שגוי!!' })\r\n\r\n    }\r\n    setUser({ ...user, PrivateName: event.target.value })\r\n  }\r\n\r\n  const validatememberFamilyName = (event) => {\r\n    var validFamilyName = /^[\\u0590-\\u05FF]+(?:\\s[\\u0590-\\u05FF]+)*$/;\r\n    if (!event.target.value) {\r\n      setErrors({ ...errors, FamilyName: \"שדה חובה!\" });\r\n    }\r\n    else if (event.target.value.match(validFamilyName)) {\r\n      setErrors({ ...errors, FamilyName: \"תקין!\" });\r\n\r\n    }\r\n    else {\r\n      setErrors({ ...errors, FamilyName: 'משפחה שגויה!!' })\r\n\r\n    }\r\n    setUser({ ...user, FamilyName: event.target.value })\r\n  }\r\n\r\n  const ChooseCity = (event) => {\r\n    /**\r\n     * Select a street by city in Israel\r\n     * Cities data is from https://data.gov.il/dataset/citiesandsettelments\r\n     * Streets data is from https://data.gov.il/dataset/321\r\n     * API documentation https://docs.ckan.org/en/latest/maintaining/datastore.html#ckanext.datastore.logic.action.datastore_search\r\n     */\r\n\r\n    // REST API URL\r\n    const api_url = \"https://data.gov.il/api/3/action/datastore_search\";\r\n    // Cities endpoint\r\n    const cities_resource_id = \"5c78e9fa-c2e2-4771-93ff-7f400a12f7ba\";\r\n    // Streets endpoint\r\n    const streets_resource_id = \"a7296d1a-f8c9-4b70-96c2-6ebb4352f8e3\";\r\n    // Field names\r\n    const city_name_key = \"שם_ישוב\";\r\n    const street_name_key = \"שם_רחוב\";\r\n    // dataset ids\r\n    const cities_data_id = \"cities-data\";\r\n    const streets_data_id = \"streets-data\";\r\n    // input elements\r\n    const cities_input = document.getElementById(\"city-choice\");\r\n    const streets_input = document.getElementById(\"street-choice\");\r\n\r\n    /**\r\n     * Get data from gov data API\r\n     * Uses Axios just because it was easy\r\n     */\r\n    const getData = (resource_id, q = \"\", limit = \"100\") => {\r\n      //console.log(\"sending\", resource_id, query);\r\n      return axios.get(api_url, {\r\n        params: { resource_id, q, limit },\r\n        responseType: \"json\"\r\n      });\r\n    };\r\n\r\n    /**\r\n     * Parse records from data into 'option' elements,\r\n     * use data from key 'field_name' as the option value\r\n     */\r\n    const parseResponse = (records = [], field_name) => {\r\n      const parsed =\r\n        records\r\n          .map((record) => `<option value=\"${record[field_name].trim()}\">`)\r\n          .join(\"\\n\") || \"\";\r\n      //console.log(\"parsed\", field_name, parsed);\r\n      return Promise.resolve(parsed);\r\n    };\r\n\r\n    /**\r\n     * Fetch data, parse, and populate Datalist\r\n     */\r\n    const populateDataList = (id, resource_id, field_name, query, limit) => {\r\n      const datalist_element = document.getElementById(id);\r\n      if (!datalist_element) {\r\n        console.log(\r\n          \"Datalist with id\",\r\n          id,\r\n          \"doesn't exist in the document, aborting\"\r\n        );\r\n        return;\r\n      }\r\n      getData(resource_id, query, limit)\r\n        .then((response) =>\r\n          parseResponse(response?.data?.result?.records, field_name)\r\n        )\r\n        .then((html) => (datalist_element.innerHTML = html))\r\n        .catch((error) => {\r\n          console.log(\"Couldn't get list for\", id, \"query:\", query, error);\r\n        });\r\n    };\r\n\r\n    // ---- APP ----\r\n\r\n    /**\r\n     * Populate cities.\r\n     * There are about 1300 cities in Israel, and the API upper limit is 32000\r\n     * so we can safely populate the list only once.\r\n     */\r\n    populateDataList(\r\n      cities_data_id,\r\n      cities_resource_id,\r\n      city_name_key,\r\n      undefined,\r\n      32000\r\n    );\r\n\r\n    /**\r\n     * Populate streets\r\n     * Update the streets list on every city name change\r\n     * (assuming there aren't more than 32,000 streets in any city)\r\n     */\r\n    cities_input.addEventListener(\"change\", (event) => {\r\n      populateDataList(\r\n        streets_data_id,\r\n        streets_resource_id,\r\n        street_name_key,\r\n        {\r\n          שם_ישוב: cities_input.value\r\n        },\r\n        32000\r\n      );\r\n\r\n    });\r\n\r\n  }\r\n\r\n  // const isIsraeliCity = async (cityName) => {\r\n  //   const API_KEY = 'YOUR_API_KEY';\r\n  //   const url = `https://maps.googleapis.com/maps/api/geocode/json?address=${cityName}&components=country:IL&key=${API_KEY}`;\r\n\r\n  //   try {\r\n  //     const response = await fetch(url);\r\n  //     const data = await response.json();\r\n\r\n  //     if (data.status === 'OK' && data.results.length > 0) {\r\n  //       const city = data.results[0].address_components.find(component => component.types.includes('locality'));\r\n\r\n  //       return city.long_name.toLowerCase() === cityName.toLowerCase();\r\n  //     } else {\r\n  //       setErrors({ ...errors, CityAdress: 'עיר שגויה!!' })\r\n  //       return false;\r\n  //     }\r\n  //   } catch (error) {\r\n  //     console.error(error);\r\n  //     setErrors({ ...errors, CityAdress: 'עיר שגויה!!' })\r\n  //     return false;\r\n  //   }\r\n  // };\r\n\r\n  const validDate = (d1, d2) => {\r\n        \r\n    var date = new Date();\r\n\r\n\r\n    if (d1 == \"0001-01-01T00:00:00\" || d2 == \"0001-01-01T00:00:00\" || d1 == null || d2 == null || d1 == \"\" || d2 == \"\")\r\n        return true\r\n    else {\r\n        var d1 = new Date(d1);\r\n        var d2 = new Date(d2);\r\n        if (d2.getFullYear() < d1.getFullYear() || d2.getFullYear() > date.getFullYear() || d1.getFullYear() > date.getFullYear())\r\n            return false\r\n        else {\r\n            if (d2.getFullYear() > d1.getFullYear() && d2.getFullYear() <= date.getFullYear())\r\n                return true;\r\n            if (d2.getFullYear() === d1.getFullYear() && d2.getFullYear() <= date.getFullYear()) {\r\n                if (d2.getMonth() < d1.getMonth())\r\n                    return false;\r\n                else {\r\n                    if (d2.getMonth() === d1.getMonth()) {\r\n\r\n                        if (d2.getDate() >= d1.getDate())\r\n                            return true;\r\n\r\n                    }\r\n                    else {\r\n                        return true;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n  const newUser = async () => {\r\n    debugger\r\n    let IdUser,DateOfBirth;\r\n    if( !User.idUser ){\r\n       IdUser = document.getElementById(\"IdUser\").value\r\n       DateOfBirth = document.getElementById(\"DateOfBirth\").value\r\n    }\r\n    let PrivateName = document.getElementById(\"PrivateName\").value\r\n    let FamilyName = document.getElementById(\"FamilyName\").value\r\n    let CityAdress = document.getElementById(\"CityAdress\").value\r\n    let StreetAdress = document.getElementById(\"StreetAdress\").value\r\n    let NumberAdress = document.getElementById(\"NumberAdress\").value\r\n    let Phone = document.getElementById(\"Phone\").value\r\n    let MobilePhone = document.getElementById(\"MobilePhone\").value\r\n    //  let DateOfPositiveResult = document.getElementById(\"DateOfPositiveResult\").value\r\n    //  let DateOfRecovery = document.getElementById(\"DateOfRecovery\").value\r\n    // תמונה\r\n\r\n\r\n    if (User.idUser) {\r\n\r\n      if (validDate(DateOfBirth,new Date())&&errors.IdUser === \"תקין!\"  && errors.PrivateName === \"תקין!\"  && errors.FamilyName === \"תקין!\" && errors.NumberAdress === \"תקין!\" && errors.Phone === \"תקין!\"  && errors.MobilePhone === \"תקין!\" ) {\r\n\r\n        const user = await updateUser(dispatch, IdUser, PrivateName, FamilyName, CityAdress,StreetAdress, NumberAdress, DateOfBirth, Phone,MobilePhone)\r\n        if (user)\r\n          alert(\"הפרטים עודכנו בהצלחה\");\r\n        setModal14(!modal14);\r\n\r\n      }\r\n      else {\r\n        alert(\"הפרטים לא עודכנו אנא וודא שהשדות לא ריקים  ותקינים\")\r\n      }\r\n    }\r\n    \r\n    else {\r\n      // errors.CityAdress === \"תקין!\"  && errors.StreetAdress === \"תקין!\" \r\n      if (validDate(DateOfBirth,new Date())&&errors.IdUser === \"תקין!\"  && errors.PrivateName === \"תקין!\"  && errors.FamilyName === \"תקין!\" && errors.NumberAdress === \"תקין!\" && errors.Phone === \"תקין!\"  && errors.MobilePhone === \"תקין!\" ) {\r\n          const user = await addUser(dispatch, IdUser, PrivateName, FamilyName, CityAdress,StreetAdress, NumberAdress, DateOfBirth, Phone,MobilePhone,null,null,null);\r\n        \r\n          if (user) {\r\n            alert(\"ברוך הבא \" + PrivateName + \" לאתרינו מקווים שתהיה לך את חווית הגלישה הטובה\");\r\n            setModal14(!modal14);\r\n            return user\r\n          }\r\n          else {\r\n            alert(\"אנא מלא את כל השדות ובדוק שכולם תקינים\");\r\n          }\r\n\r\n        \r\n      }\r\n\r\n      else {\r\n\r\n        alert(\"אנא מלא את כל השדות ובדוק שכולם תקינים\");\r\n\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  const up = (event) => {\r\n    //   if (!event.target.value)\r\n    //   setErrors({ ...errors, nameCompany1: 'שדה חובה*' })\r\n    //  else \r\n    setUser(event.target.value)\r\n  }\r\n\r\n\r\n  return (\r\n    <>\r\n\r\n      <MDBContainer>\r\n        <MDBModal isOpen={modal14} toggle={() => { setModal14(!modal14) }} centered>\r\n\r\n          <MDBModalHeader toggle={() => { setModal14(!modal14); }}>\r\n            {\r\n              User.idUser ?\r\n                <>\r\n                  טופס עדכון\r\n                </>\r\n                : <>טופס הרשמה </>\r\n            }\r\n          </MDBModalHeader>\r\n          <MDBModalBody>\r\n            <MDBContainer>\r\n              <MDBRow>\r\n                <MDBCol md=\"6\">\r\n                  <form>\r\n\r\n                    <div className=\"grey-text\">\r\n                      {!User.idUser &&\r\n                        <>\r\n                          <label>תעודת זהות </label>\r\n                          <MDBInput id=\"IdUser\" value={user.idUser} onChange={(e) => validatememberID(e)} icon=\"user\" group type=\"text\" validate error=\"wrong\"\r\n                            success=\"right\" />\r\n                          <p style={{ color: \"red\" }}>{errors.IdUser}</p>\r\n                        </>\r\n                      }\r\n\r\n                      <label>שם פרטי</label>\r\n                      <MDBInput id=\"PrivateName\" value={user.privateName} onChange={(e) => { validatememberPrivateName(e) }} icon=\"user\" group type=\"text\" validate error=\"wrong\"\r\n                        success=\"right\" />\r\n                      <p style={{ color: \"red\" }}>{errors.PrivateName} </p>\r\n                      <label>שם משפחה</label>\r\n                      <MDBInput id=\"FamilyName\" value={user.familyName} onChange={(e) => { validatememberFamilyName(e) }} icon=\"envelope\" group type=\"email\" validate error=\"wrong\"\r\n                        success=\"right\" />\r\n                      <p style={{ color: \"red\" }}>{errors.FamilyName}</p>\r\n\r\n                             <label>עיר </label>\r\n                      <MDBInput id=\"CityAdress\" value={user.cityAdress} onChange={(e) => { up(e) }} icon=\"user\" group type=\"text\" validate error=\"wrong\" success=\"right\" />\r\n                      {/* <p style={{ color: \"red\" }}>{errors.CityAdress}</p> */}\r\n\r\n                      <label>רחוב </label>\r\n                      <MDBInput id=\"StreetAdress\" value={user.streetAdress} onChange={(e) => { up(e) }} icon=\"user\" group type=\"text\" validate error=\"wrong\" success=\"right\" />\r\n                      {/* <p style={{ color: \"red\" }}>{errors.StreetAdress}</p> */}\r\n\r\n                      <label>מספר דירה</label>\r\n                      <MDBInput id=\"NumberAdress\" value={user.numberAdress} onChange={(e) => { validatememberNumberAdress(e) }} icon=\"user\" group type=\"text\" validate error=\"wrong\" success=\"right\" />\r\n                      <p style={{ color: \"red\" }}>{errors.NumberAdress}</p>\r\n                      {!User.idUser &&\r\n                        <>\r\n                          <label>תאריך לידה </label>\r\n                          <MDBInput id=\"DateOfBirth\" value={user.dateOfBirth} onChange={(e) => { up(e) }} icon=\"lock\" group type=\"date\" validate />\r\n                          {/* <p style={{ color: \"red\" }}>{errors.DateOfBirth}</p> */}\r\n                        </>}\r\n                      <label> טלפון </label>\r\n                      <MDBInput id=\"Phone\" value={user.phone} onChange={(e) => { validatememberPhone(e) }} icon=\"lock\" group type=\"text\" validate />\r\n                      <p style={{ color: \"red\" }}>{errors.Phone}</p>\r\n                      <label>פלאפון נייד  </label>\r\n                      <MDBInput id=\"MobilePhone\" value={user.mobilePhone} onChange={(e) => { validatememberCellPhone(e) }} icon=\"lock\" group type=\"text\" validate />\r\n                      <p style={{ color: \"red\" }}>{errors.MobilePhone}</p>\r\n                      {/* <label>תאריך קבלת תוצאה חיביות</label\r\n                      <MDBInput  id=\"DateOfPositiveResult\" value={user.dateOfPositiveResult} onChange={(e) => { up(e) }} icon=\"lock\" group type=\"date\" validate  />\r\n                      {/* <p style={{color:\"red\"}}>{errors.pass2}</p> */}\r\n                      {/* <label>תאריך החלמה</label>\r\n                      <MDBInput  id=\"DateOfRecovery\" value={user.dateOfRecovery} onChange={(e) => { up(e) }} icon=\"lock\" group type=\"date\" validate  /> */}\r\n                      {/* <p style={{color:\"red\"}}>{errors.pass2}</p> */}\r\n                      <div className=\"text-center\">\r\n\r\n                      </div>\r\n                    </div>\r\n                  </form>\r\n                </MDBCol>\r\n              </MDBRow>\r\n            </MDBContainer>\r\n          </MDBModalBody>\r\n          <MDBModalFooter>\r\n            {\r\n              User.idUser ?\r\n                <MDBBtn color=\"secondary\" onClick={() => newUser()}>עדכן</MDBBtn>\r\n                : <MDBBtn color=\"secondary\" onClick={() => newUser()}>הרשם</MDBBtn>\r\n            }\r\n          </MDBModalFooter>\r\n        </MDBModal>\r\n      </MDBContainer>\r\n    </>\r\n  );\r\n}\r\n\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}