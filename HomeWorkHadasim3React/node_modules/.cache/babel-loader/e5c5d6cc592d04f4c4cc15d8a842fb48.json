{"ast":null,"code":"import axios from \"axios\";\nimport { useDispatch } from \"react-redux\";\nimport { GetUserById, AddUser, GetAllUsers, UpdateUser, IfSick } from \"./UserAction\";\nexport const UsersURL = \"https://localhost:44315/api/Users/\";\nexport const getUserById = async (dispatch, id) => {\n  const userPromise = axios.get(UsersURL + \"GetUserById/\" + id);\n  const response = await userPromise;\n  const user = response.data;\n  console.log(user);\n  dispatch(GetUserById(user));\n  return user;\n};\nexport const ReadMenegerPassword = async () => {\n  const menegerPromise = axios.get(UsersURL + \"ReadMenegerPassword/\");\n  const response = await menegerPromise;\n  const meneger = response.data;\n  return meneger;\n};\n_c = ReadMenegerPassword;\nexport const addUser = async (dispatch, idUser, privateName, familyName, cityAdress, streetAdress, numberAdress, dateOfBirth, phone, mobilePhone, imageProfile) => {\n  debugger;\n\n  try {\n    const newUser = {\n      idUser: idUser,\n      privateName: privateName,\n      familyName: familyName,\n      cityAdress: cityAdress,\n      streetAdress: streetAdress,\n      numberAdress: numberAdress,\n      dateOfBirth: dateOfBirth,\n      phone: phone,\n      mobilePhone: mobilePhone,\n      imageProfile: imageProfile\n    };\n    const UserPromise = await axios.post(UsersURL + \"AddUser\", newUser);\n    console.log(UserPromise);\n    await dispatch(AddUser(UserPromise.data));\n    return UserPromise.data;\n  } catch (e) {\n    console.log(e);\n  }\n};\nexport const getAllUsers = async dispatch => {\n  const userPromise = axios.get(UsersURL + \"GetAllUsers\");\n  const response = await userPromise;\n  const users = response.data;\n  dispatch(GetAllUsers(users));\n  return users;\n};\nexport const ifSick = async id => {\n  const userPromise = axios.get(\"https://localhost:44315/api/Users/IfSick?id=\" + id);\n  const response = await userPromise;\n  const user = response.data;\n  console.log(user);\n  return user;\n};\nexport const updateUser = async (dispatch, idUser, privateName, familyName, cityAdress, streetAdress, numberAdress, dateOfBirth, phone, mobilePhone, imageProfile, dateOfPositiveResult, dateOfRecovery) => {\n  if (dateOfRecovery == \"0001-01-01T00:00:00\") {\n    dateOfRecovery = null;\n  }\n\n  if (dateOfRecovery == \"0001-01-01T00:00:00\") {\n    dateOfRecovery = null;\n  }\n\n  const updateUser = {\n    idUser: idUser,\n    privateName: privateName,\n    familyName: familyName,\n    cityAdress: cityAdress,\n    streetAdress: streetAdress,\n    streetAdress: streetAdress,\n    numberAdress: numberAdress,\n    dateOfBirth: dateOfBirth,\n    phone: phone,\n    mobilePhone: mobilePhone,\n    imageProfile: imageProfile,\n    dateOfPositiveResult: dateOfPositiveResult,\n    dateOfRecovery: dateOfRecovery\n  };\n\n  try {\n    const userPromise = await axios.put(UsersURL + \"UpdateUser\", updateUser);\n    await dispatch(UpdateUser(userPromise.data));\n    return userPromise.data;\n  } catch (e) {\n    console.log(e);\n  }\n};\nexport const UpdateImage = async (idUser, name) => {\n  try {\n    const PicturePromise1 = axios.put(`https://localhost:44315/api/Users/${idUser}/${name}`); // const PicturePromise1 = axios.put(\"https://localhost:44315/api/Users/UpdateImage/322461302/profile2.png\" );\n    // const userPromise=axios.get(\"https://localhost:44315/api/Users/\"+\"GetAllUsers\");\n\n    const response = await PicturePromise1;\n    const Picture = response.data;\n    alet(\"תמונה הועלתה בהצלחה\");\n  } catch {\n    alert(\"שגיאה\");\n  }\n};\n_c2 = UpdateImage;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"ReadMenegerPassword\");\n$RefreshReg$(_c2, \"UpdateImage\");","map":{"version":3,"sources":["D:/Programing/HadasimProject/HomeWorkHadasim3React/src/Redux/Users/UsersThunk.jsx"],"names":["axios","useDispatch","GetUserById","AddUser","GetAllUsers","UpdateUser","IfSick","UsersURL","getUserById","dispatch","id","userPromise","get","response","user","data","console","log","ReadMenegerPassword","menegerPromise","meneger","addUser","idUser","privateName","familyName","cityAdress","streetAdress","numberAdress","dateOfBirth","phone","mobilePhone","imageProfile","newUser","UserPromise","post","e","getAllUsers","users","ifSick","updateUser","dateOfPositiveResult","dateOfRecovery","put","UpdateImage","name","PicturePromise1","Picture","alet","alert"],"mappings":"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","sourcesContent":["import axios from \"axios\"\r\nimport { useDispatch } from \"react-redux\";\r\nimport { GetUserById,AddUser,GetAllUsers,UpdateUser,IfSick} from \"./UserAction\";\r\nexport const UsersURL=\"https://localhost:44315/api/Users/\"\r\n\r\n \r\n\r\n \r\nexport const getUserById = async (dispatch,id) => {\r\n    \r\n    const userPromise = axios.get(UsersURL+\"GetUserById/\"+id);\r\n    const response = await userPromise;\r\n    const user = response.data;\r\n    console.log(user);\r\n    dispatch(GetUserById(user))\r\n    return user;\r\n\r\n}\r\nexport const ReadMenegerPassword = async () => {\r\n    \r\n    const menegerPromise = axios.get(UsersURL+\"ReadMenegerPassword/\");\r\n    const response = await menegerPromise;\r\n    const meneger= response.data;\r\n    return meneger;\r\n\r\n}\r\n\r\nexport const addUser=async(dispatch,idUser,privateName,familyName,cityAdress,streetAdress,numberAdress,dateOfBirth,phone,mobilePhone,imageProfile)=>\r\n  {   \r\n    debugger\r\n       try{\r\n           \r\n       const newUser={idUser:idUser,privateName:privateName,familyName:familyName,cityAdress:cityAdress,streetAdress:streetAdress,numberAdress:numberAdress,dateOfBirth:dateOfBirth,phone:phone,mobilePhone:mobilePhone,imageProfile:imageProfile};\r\n       const UserPromise =await axios.post(UsersURL+\"AddUser\",newUser);\r\n       console.log(UserPromise);\r\n       await  dispatch(AddUser(UserPromise.data));\r\n       return UserPromise.data;\r\n       }\r\n       catch(e){\r\n           console.log(e);\r\n       }\r\n       \r\n    }\r\n    export const getAllUsers=async(dispatch)=>\r\n{\r\n    const userPromise=axios.get(UsersURL+\"GetAllUsers\");\r\n     const response=await userPromise;\r\n     const users=response.data;\r\n     dispatch(GetAllUsers(users))\r\n     return users;\r\n }\r\n\r\n\r\n export const ifSick = async (id) => {\r\n    \r\n    const userPromise = axios.get(\"https://localhost:44315/api/Users/IfSick?id=\"+id);\r\n    const response = await userPromise;\r\n    const user = response.data;\r\n    \r\n    console.log(user);\r\n    return user;\r\n\r\n}\r\n \r\n\r\n export const updateUser = async (dispatch,idUser,privateName,familyName,cityAdress,streetAdress,numberAdress,dateOfBirth,phone,mobilePhone,imageProfile,dateOfPositiveResult,dateOfRecovery) => {\r\n    if(dateOfRecovery==\"0001-01-01T00:00:00\"){\r\n        dateOfRecovery=null\r\n    }\r\n    if(dateOfRecovery==\"0001-01-01T00:00:00\"){\r\n        dateOfRecovery=null\r\n    }\r\n    const updateUser  = {idUser:idUser,privateName:privateName,familyName:familyName,cityAdress:cityAdress,streetAdress:streetAdress,streetAdress:streetAdress,numberAdress:numberAdress,dateOfBirth:dateOfBirth,phone:phone,mobilePhone:mobilePhone ,imageProfile:imageProfile,dateOfPositiveResult:dateOfPositiveResult,dateOfRecovery:dateOfRecovery};\r\n    try {\r\n        const userPromise = await axios.put(UsersURL + \"UpdateUser\", updateUser);\r\n        await dispatch(UpdateUser(userPromise.data));\r\n        return userPromise.data;\r\n    }\r\n    catch (e) {\r\n        console.log(e);\r\n    }\r\n}\r\n\r\nexport const UpdateImage=async (idUser,name)=>{\r\n    try {\r\n\r\n        const PicturePromise1 = axios.put(`https://localhost:44315/api/Users/${idUser}/${name}` );\r\n        // const PicturePromise1 = axios.put(\"https://localhost:44315/api/Users/UpdateImage/322461302/profile2.png\" );\r\n        // const userPromise=axios.get(\"https://localhost:44315/api/Users/\"+\"GetAllUsers\");\r\n\r\n        const response = await PicturePromise1;\r\n         const Picture = response.data;\r\n        alet(\"תמונה הועלתה בהצלחה\");\r\n      }\r\n\r\n      catch {\r\n        alert(\"שגיאה\")\r\n      }\r\n}\r\n\r\n  \r\n\r\n"]},"metadata":{},"sourceType":"module"}